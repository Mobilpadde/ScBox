/**
 * ScrollBox - Scroll that box!
 * Mads Cordes | Mobilpadde@gmail.com | http://githut.com/Mobilpadde | http://twitter.com/Mobilpadde
 * @author Mads Cordes
 * @version 0.0.3
**/
(function(a){a.fn.scBox=function(b){return a.fn.scBox.defaults={start:40,width:200,height:50,step:10,fontSize:15,textColor:"#fff",bgColor:"#000",slideColor:"#ff0000",change:function(){return!1}},this.each(function(){function j(){var a=Math.round(g*100/(c.width>=c.height?c.width:c.height));a<0?a=0:a>100&&(a=100),i.fillStyle=c.textColor,i.font="bold "+c.fontSize+"px sans-serif",i.textAlign="right",i.textBaseline="bottom",i.fillText(a+"%",c.width-3,c.height)}var c=a.extend({},a.fn.scBox.defaults,b),d=["start","width","height","step","fontSize","textColor","bgColor","slideColor"],e={},f=a(this);a.each(d,function(a,b){f.attr("data-"+b)&&(e[b]=f.attr("data-"+b))}),a.extend(c,e);var g=c.start,h=a("<canvas width="+c.width+" height="+c.height+"></canvas>").appendTo(f),i=h[0].getContext("2d");c.width>=c.height?(i.fillStyle=c.bgColor,i.fillRect(0,0,c.width,c.height),i.fillStyle=c.slideColor,i.fillRect(0,0,g,c.height),j(),a(h[0]).bind("mousewheel DOMMouseScroll",function(a){return i.clearRect(0,0,c.width,c.height),i.fillStyle=c.bgColor,i.fillRect(0,0,c.width,c.height),i.fillStyle=c.slideColor,a.originalEvent.wheelDeltaY>0||a.originalEvent.detail>0?(g<c.width?g+=c.step:c.width,i.fillRect(0,0,g,c.height),j()):(g>0?g-=c.step:0,i.fillRect(0,0,g,c.height),j()),!1}),a(h[0]).click(function(a){g=a.offsetX,i.clearRect(0,0,c.width,c.height),i.fillStyle=c.bgColor,i.fillRect(0,0,c.width,c.height),i.fillStyle=c.slideColor,i.fillRect(0,0,g,c.height),j()})):(i.fillStyle=c.slideColor,i.fillRect(0,0,c.width,c.height),i.fillStyle=c.bgColor,i.fillRect(0,0,c.height,c.height-g),j(),a(h[0]).bind("mousewheel DOMMouseScroll",function(a){return i.clearRect(0,0,c.width,c.height),i.fillStyle=c.slideColor,i.fillRect(0,0,c.width,c.height),i.fillStyle=c.bgColor,a.originalEvent.wheelDeltaY>0||a.originalEvent.detail>0?(g<c.height?g+=c.step:c.height,i.fillRect(0,0,c.height,c.height-g),j()):(g>0?g-=c.step:0,i.fillRect(0,0,c.height,c.height-g),j()),!1}),a(h[0]).click(function(a){g=c.height-a.offsetY,i.clearRect(0,0,c.width,c.height),i.fillStyle=c.slideColor,i.fillRect(0,0,c.width,c.height),i.fillStyle=c.bgColor,i.fillRect(0,0,c.height,c.height-g),j()}))})}})(jQuery)